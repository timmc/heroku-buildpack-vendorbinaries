#!/bin/bash


indent() {
  sed -u 's/^/       /'
}

echo "-----> Found a .vendor_url_map file"

# Bail early but noisily
if [ ! -s $1/.vendor_url_map ]; then
  echo ".vendor_url_map empty. Skipping." | indent
  exit 0
fi

cd $1

while IFS=$'\t' read dpath url; do
  echo Vendoring $url to $dpath | indent
  curl -L --silent $url > $dpath
done < .vendor_url_map
